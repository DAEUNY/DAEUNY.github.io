---
title:  "[프로그래머스] Lv.0 수열과 구간 쿼리2"
excerpt: ""

categories:
  - TIL
tags:
  - [TIL, PROGRAMMERS-시행착오, PROGRAMMERS-문제]

toc: true
toc_sticky: true
 
date: 2024-01-18
last_modified_at: 2024-01-18
---

### 문제

정수 배열 `arr`와 2차원 정수 배열 `queries`이 주어집니다. `queries`의 원소는 각각 하나의 `query`를 나타내며, `[s, e, k]` 꼴입니다.

각 `query`마다 순서대로 `s` ≤ `i` ≤ `e`인 모든 `i`에 대해 `k`보다 크면서 가장 작은 `arr[i]`를 찾습니다.

각 쿼리의 순서에 맞게 답을 저장한 배열을 반환하는 solution 함수를 완성해 주세요.

단, 특정 쿼리의 답이 존재하지 않으면 -1을 저장합니다.

---

### 제한사항

- 1 ≤ `arr`의 길이 ≤ 1,000
    - 0 ≤ `arr`의 원소 ≤ 1,000,000
- 1 ≤ `queries`의 길이 ≤ 1,000
    - 0 ≤ `s` ≤ `e` < `arr`의 길이
    - 0 ≤ `k` ≤ 1,000,000

---


### 입출력 예

| arr | queries | result |
| --- | --- | --- |
| [0, 1, 2, 4, 3] | [[0, 4, 2],[0, 3, 2],[0, 2, 2]] | [3, 4, -1] |

---

### 입출력 예 설명

입출력 예 #1

- 첫 번째 쿼리의 범위에는 0, 1, 2, 4, 3이 있으며 이 중 2보다 크면서 가장 작은 값은 3입니다.
- 두 번째 쿼리의 범위에는 0, 1, 2, 4가 있으며 이 중 2보다 크면서 가장 작은 값은 4입니다.
- 세 번째 쿼리의 범위에는 0, 1, 2가 있으며 여기에는 2보다 큰 값이 없습니다.
- 따라서 [3, 4, -1]을 return 합니다.


### 풀이

> `queries` 와 길이가 같은 배열이 반환되어야 한다
> 
> 
>  따라서 `queries`를 `map()`하며 각 하위 배열의 조건에 해당하는 값을 찾는다
> 
> `arr`의 요소 중 조건에 맞는 값을 찾아야하기 때문에,
> 
> 다시 `arr`를 `filter()` 해서 조건에 맞는 값만 남긴다
> 
> 조건에 맞는 값이 여러개일 경우 `sort()`를 이용해 가장 작은 수를 찾고,
> 
> 조건에 맞는 값이 없을 경우 -1을 반환하기 위해 `|| -1` 을 작성했다
> 

```jsx
function solution(arr, queries) { 
    return queries
        .map(([s, e, k]) => arr
             .filter((v, i) => s <= i && i <= e && v > k)
             .sort((a, b) => a - b)[0] || -1)
}
```


### 시행착오

> 하,,, 이번에도 문제를 잘못 이해함…!!!
> 
> 
> 위의 코드와 똑같지만 딱 한가지 다르다.
> 
> `filter()` 부분의 마지막 `v < k` !!
> 
> ---
> 
> 각 `query`마다 순서대로 `s` ≤ `i` ≤ `e`인 모든 `i`에 대해 `k`보다 크면서 가장 작은 `arr[i]`를 찾습니다.
> 
> ---
> 
> 문제 설명 부분인데, 
> 
> ‘`i`에 대해 `k`보다 크면서’ ‘가장 작은 `arr[i]`를’ 
> 
> 이라고 이해해서,,,
> 
> 문제만 보고 되게 간단하다고 생각해서 쭉쭊 써내려갔던 코드가,
> 
> 테스트케이스만 맞고 0점 맞았을 떄 느낌이란…
> 
>  + 거기다 도저히 이유를 모르겠어서 질문하기를 봤는데
> 
> 테스트케이스 빼고 다 틀린단 사람들이 한 무더기…
> 
> 이건 내가 놓친 분명한 뭔가 복잡한게 있다! 라고 생각하기 너무 좋은 상황..
> 
> 다른 언어 질문이 대부분이었지만, 
> 
> 아무리봐도 내가 이해한 내용이 맞는데.. 하다가..!
> 
> 혹시 또 인덱스를 묻는게 아니라,  요소를 묻는게 아닐까?? 싶어서
> 
> 그 부분의 코드를 자세히 보고, 문제를 다시 뜯어보다 
> 
> 설마설마해서 코드 고쳤더니 너무 한 번에 통과로 돌변..😇
> 
> 이렇게 허탈할 수가…
> 
> ```jsx
> function solution(arr, queries) { 
>     return queries
>         .map(([s, e, k]) => arr
>              .filter((v, i) => s <= i && i <= e && v < k)
>              .sort((a, b) => a - b)[0] || -1
>             )
> }
> ```
> 



### 배운점 & 느낀점

> 나는 그냥 문제 3번씩 다시 읽어라😇
> 
> 
> 해볼 수 있는 시도 해 본 뒤에도 막힌다 싶으면 질문하기를 빨리 봐라..
> 
> 문제 조건에 배열의 `index`를 묻는지, 해당 요소를 묻는지 정확하게 보자..!
>